[
  {
    "id": "rule-1",
    "name": "Isolation des workflows défaillants",
    "description": "Isole automatiquement un workflow lorsqu'il dépasse le seuil d'échecs",
    "type": "circuit-breaker-action",
    "priority": 10,
    "conditions": {
      "failureCount": 5,
      "timeWindow": 60000
    },
    "actions": [
      {
        "type": "isolate",
        "target": "workflow",
        "duration": 300000
      },
      {
        "type": "notify",
        "channel": "dashboard"
      }
    ],
    "scope": {
      "layers": ["orchestration"]
    },
    "enabled": true
  },
  {
    "id": "rule-2",
    "name": "Limitation de débit des agents",
    "description": "Limite le débit d'un agent qui consomme trop de ressources",
    "type": "resource-allocation",
    "priority": 8,
    "conditions": {
      "cpuUsage": 80,
      "memoryUsage": 75,
      "requestRate": 100
    },
    "actions": [
      {
        "type": "throttle",
        "target": "agent",
        "rate": 50,
        "duration": 120000
      },
      {
        "type": "notify",
        "channel": "dashboard"
      }
    ],
    "scope": {
      "layers": ["agents"]
    },
    "enabled": true
  },
  {
    "id": "rule-3",
    "name": "Validation des migrations de domaine",
    "description": "Vérifie la qualité d'une migration de domaine avant de la valider",
    "type": "quality-gate",
    "priority": 9,
    "conditions": {
      "migrationSuccess": 90,
      "errorRate": 5
    },
    "actions": [
      {
        "type": "validate",
        "target": "domain",
        "minScore": 80
      },
      {
        "type": "notify",
        "channel": "dashboard"
      }
    ],
    "scope": {
      "layers": ["business", "orchestration"]
    },
    "enabled": true
  }
]
