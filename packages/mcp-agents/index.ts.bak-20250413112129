// Registre centralisé des agents MCP

// Export des agents individuels
export * from './php-analyzer';
export * from './remix-generator';
export * from './nestjs-generator';
export * from './mysql-to-postgresql';
export * from './migration-validator';

// Registre d'agents pour une utilisation facilitée
export const agentRegistry = {
  "php-analyzer": require('./php-analyzer'),
  "remix-generator": require('./remix-generator'),
  "nestjs-generator": require('./nestjs-generator'),
  "mysql-to-postgresql": require('./mysql-to-postgresql'),
  "migration-validator": require('./migration-validator')
};

// Fonction utilitaire pour exécuter un agent
export async function executeAgent(agentName: string, context: any) {
  const agent = agentRegistry[agentName];
  if (!agent) {
    throw new Error(`Agent "${agentName}" introuvable dans le registre MCP.`);
  }
  console.info(`Agent utilisé : @fafa/mcp-agents/${agentName}`);
  return await agent.run(context);
}
